body { font-family: system-ui, Arial, sans-serif; margin:0; background:#111; color:#eee; }

/* Modal styles */
.modal-overlay {
	position: fixed;
	inset: 0;
	background: rgba(0,0,0,0.5);
	display: flex;
	align-items: flex-start;
	justify-content: center;
	padding: 4rem 1rem 2rem;
	z-index: 1000;
	backdrop-filter: blur(2px);
}

.modal {
	background: #1f1f23;
	color: #f5f5f5;
	width: 100%;
	max-width: 720px;
	border-radius: 12px;
	box-shadow: 0 8px 32px rgba(0,0,0,0.4);
	display: flex;
	flex-direction: column;
	animation: popIn .18s ease;
	border: 1px solid #2e2e35;
}

@keyframes popIn { from { transform: translateY(8px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

.modal-header { padding: 1.1rem 1.25rem; border-bottom: 1px solid #2e2e35; display: flex; align-items: center; gap: 1rem; }
.modal-header h2 { flex: 1; font-size: 1.15rem; margin: 0; line-height: 1.3; }
.close-btn { background: #2b2b31; color: #fff; border: 0; width: 34px; height: 34px; border-radius: 8px; cursor: pointer; font-size: 1.1rem; display: flex; align-items: center; justify-content: center; }
.close-btn:hover { background:#3a3a42; }

.modal-body { padding: 1.25rem 1.25rem 0.75rem; overflow-y: auto; max-height: calc(80vh - 140px); }
.modal-body .field { margin-bottom: .75rem; font-size: .9rem; display: flex; gap: .5rem; flex-wrap: wrap; }
.modal-body .label { opacity: .65; font-weight: 500; text-transform: uppercase; letter-spacing: .5px; font-size: .65rem; background:#2e2e35; padding: .35rem .5rem; border-radius: 4px; }
.modal-body code { background:#2e2e35; padding: .25rem .4rem; border-radius: 4px; font-size: .7rem; }
.modal-body .description { margin-top: 1rem; }
.modal-body .description p { margin: .4rem 0 0; line-height: 1.4; font-size: .9rem; }
.modal-body .tag.big { background:#2e2e35; padding: .35rem .55rem; border-radius: 6px; font-size: .65rem; }

.modal-footer { padding: .85rem 1.25rem 1.25rem; border-top: 1px solid #2e2e35; display: flex; justify-content: flex-end; gap:.5rem; }
.modal-footer button { background:#3d63ff; color:#fff; border:0; border-radius: 6px; font-size:.8rem; letter-spacing:.3px; padding:.55rem .9rem; cursor:pointer; }
.modal-footer button:hover { background:#3356e6; }

.status-badge { background:#2e2e35; padding:.35rem .55rem; border-radius: 20px; font-size:.6rem; font-weight:600; letter-spacing:.4px; text-transform:uppercase; }

.ellipsis-2 { display:-webkit-box; -webkit-line-clamp:2; line-clamp:2; -webkit-box-orient: vertical; overflow:hidden; }

.task-card { cursor: pointer; }
.task-card:focus { outline: 2px solid #3d63ff; outline-offset: 2px; }
.session-bar { display:flex; justify-content:space-between; padding:8px 12px; background:#222; align-items:center; }
.session-bar button { background:#444; color:#eee; border:0; padding:6px 10px; cursor:pointer; }
.login-panel { max-width:320px; margin:64px auto; background:#1e1e1e; padding:24px; border-radius:8px; box-shadow:0 0 0 1px #333; }
.login-panel h2 { margin-top:0; }
.login-panel form { display:flex; flex-direction:column; gap:12px; }
.login-panel input { width:100%; padding:8px; background:#222; border:1px solid #333; color:#eee; border-radius:4px; }
.login-panel button { padding:10px; background:#4a7dff; color:#fff; border:0; border-radius:4px; cursor:pointer; }
.login-panel .error { background:#5a1e1e; color:#ffb4b4; padding:8px; border-radius:4px; font-size:14px; }
.hint { font-size:12px; color:#888; }
.board-wrapper { padding:12px; }
.top-bar { display:flex; align-items:center; justify-content:space-between; gap:16px; }
.top-bar h1 { font-size:20px; margin:0; }
.top-actions { display:flex; gap:8px; }
.top-bar button { background:#2f2f2f; color:#ddd; border:1px solid #444; padding:6px 12px; cursor:pointer; border-radius:4px; }
.agent-toggle { background:#1e4d2e !important; color:#7dffa9 !important; }
.board-container { display:flex; gap:12px; margin-top:16px; }
.create-task { margin:16px 0; display:flex; gap:8px; }
.create-task input { flex:1; padding:8px; background:#191919; border:1px solid #333; color:#eee; border-radius:4px; }
.create-task button { padding:8px 14px; background:#4a7dff; color:#fff; border:0; border-radius:4px; }
.board-grid { display:grid; grid-template-columns:repeat(6,minmax(180px,1fr)); gap:12px; flex:1; }
.column { background:#1a1a1a; border:1px solid #262626; border-radius:8px; display:flex; flex-direction:column; max-height:70vh; }
.column-header { display:flex; justify-content:space-between; align-items:center; padding:8px 10px; background:#222; border-bottom:1px solid #2c2c2c; }
.column-header h3 { margin:0; font-size:14px; font-weight:600; letter-spacing:.5px; text-transform:uppercase; }
.count { background:#333; padding:2px 6px; font-size:12px; border-radius:12px; }
.column-body { overflow-y:auto; padding:8px; display:flex; flex-direction:column; gap:8px; min-height:100px; }
.column-body.dragging-over { background:#1e2a3a; border:2px dashed #4a7dff; }
.empty { font-size:12px; color:#666; text-align:center; padding:8px; }
.task-card { background:#242424; border:1px solid #333; border-radius:6px; padding:8px; display:flex; flex-direction:column; gap:6px; box-shadow:0 2px 4px rgba(0,0,0,.3); cursor:grab; }
.task-card:active { cursor:grabbing; }
.dragging .task-card { opacity:0.5; transform:rotate(2deg); box-shadow:0 8px 16px rgba(0,0,0,.5); }
.task-card .task-title { font-weight:600; font-size:14px; }
.task-card .task-desc { font-size:12px; color:#bbb; }
.task-meta { display:flex; align-items:center; gap:8px; font-size:11px; }
.badge.ai { background:#1e4d2e; color:#7dffa9; padding:2px 6px; border-radius:10px; font-size:10px; letter-spacing:.5px; }
.svc { padding:2px 6px; border-radius:10px; font-size:10px; background:#333; color:#ddd; letter-spacing:.5px; }
.tags { display:flex; gap:4px; flex-wrap:wrap; }
.tag { background:#333; color:#aaa; padding:2px 6px; font-size:10px; border-radius:10px; }
.error { background:#391919; color:#ffb4b4; padding:8px; border-radius:4px; margin:8px 0; }

/* Agent Chat Styles */
.agent-chat { width:360px; background:#1a1a1a; border:1px solid #333; border-radius:8px; display:flex; flex-direction:column; height:calc(100vh - 180px); max-height:800px; }
.chat-header { display:flex; justify-content:space-between; align-items:center; padding:12px; background:#222; border-bottom:1px solid #333; border-radius:8px 8px 0 0; }
.chat-title { display:flex; align-items:center; gap:8px; }
.bot-icon { font-size:20px; }
.chat-title h3 { margin:0; font-size:16px; }
.close-btn { background:transparent; border:0; color:#888; font-size:20px; cursor:pointer; padding:0 8px; }
.close-btn:hover { color:#fff; }
.chat-messages { flex:1; overflow-y:auto; padding:12px; display:flex; flex-direction:column; gap:12px; }
.message { display:flex; }
.message.user { justify-content:flex-end; }
.message.agent { justify-content:flex-start; }
.message-bubble { max-width:85%; padding:10px 12px; border-radius:12px; background:#2a2a2a; }
.message.user .message-bubble { background:#4a7dff; color:#fff; }
.message-content { white-space:pre-wrap; font-size:14px; line-height:1.5; }
.message-time { font-size:10px; color:#888; margin-top:4px; text-align:right; }
.message-actions { margin-top:8px; display:flex; flex-direction:column; gap:6px; }
.action-card { background:#1e1e1e; border:1px solid #333; border-radius:6px; padding:8px; font-size:12px; }
.action-card.error { border-color:#8b2e2e; }
.action-card.success { border-color:#2e8b57; }
.action-header { display:flex; gap:8px; align-items:center; margin-bottom:4px; }
.action-method { background:#333; padding:2px 6px; border-radius:4px; font-weight:600; color:#7dffa9; font-size:10px; }
.action-endpoint { color:#888; font-size:11px; }
.action-params { background:#111; padding:4px 6px; border-radius:4px; margin-top:4px; font-family:monospace; font-size:10px; color:#aaa; }
.action-error { color:#ff6b6b; margin-top:4px; }
.typing-indicator { display:flex; gap:4px; }
.typing-indicator span { width:6px; height:6px; background:#666; border-radius:50%; animation:typing 1.4s infinite; }
.typing-indicator span:nth-child(2) { animation-delay:0.2s; }
.typing-indicator span:nth-child(3) { animation-delay:0.4s; }
@keyframes typing { 0%, 60%, 100% { transform:translateY(0); } 30% { transform:translateY(-8px); } }
.chat-input { padding:12px; border-top:1px solid #333; display:flex; gap:8px; }
.chat-input textarea { flex:1; background:#222; border:1px solid #333; color:#eee; padding:8px; border-radius:4px; resize:none; font-family:inherit; }
.chat-input button { padding:8px 16px; background:#4a7dff; color:#fff; border:0; border-radius:4px; cursor:pointer; }
.chat-input button:disabled { opacity:0.5; cursor:not-allowed; }

@media (max-width:1100px){ .board-grid { grid-template-columns:repeat(3,minmax(180px,1fr)); } .agent-chat { width:300px; } }
@media (max-width:700px){ .board-grid { grid-template-columns:repeat(2,minmax(160px,1fr)); } }
